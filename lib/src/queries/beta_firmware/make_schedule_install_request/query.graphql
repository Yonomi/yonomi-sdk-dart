mutation makeScheduleLatestFirmwareUpdateRequest($deviceId: ID!, $scheduleAt: DateTime!) {
  scheduleLatestFirmwareUpdate(
    deviceId: $deviceId
    installScheduledAt: $scheduleAt
    downloadScheduledAt: $scheduleAt
  ) {
    actionId
    transactionId
    device {
      traits {
        name
        instance
        ... on BetaFirmwareDeviceTrait {
          state {
            installScheduledAt {
              reported {
                value
                sampledAt
                createdAt
              }
              desired {
                value
                delta
                updatedAt
              }
            }
            downloadScheduledAt {
                reported {
                    value
                    sampledAt
                    createdAt
                }
                desired {
                    value
                    delta
                    updatedAt
                }
            }
          }
        }
      }
    }
  }
}
