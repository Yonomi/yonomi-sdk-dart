query getDevices {
    me {
        devices {
            pageInfo { hasNextPage }
            edges {
                node {
                    ... DeviceDetails
                }
            }
        }
    }
}
fragment DeviceDetails on Device {
    id
    displayName
    description
    manufacturerName
    model
    firmwareVersion
    softwareVersion
    serialNumber
    createdAt
    traits {
        name instance
        ... on LockUnlockDeviceTrait {
            properties { supportsIsJammed }
            state {
                isLocked {
                    reported { value sampledAt createdAt }
                    desired { value delta updatedAt }
                }
            }
        }
        ... on PowerDeviceTrait {
            properties { supportsToggle supportsDiscreteOnOff }
            state {
                power {
                    reported { value sampledAt createdAt }
                    desired { value delta updatedAt }
                }
            }
        }
        ... on BrightnessDeviceTrait {
            properties { supportsRelativeBrightness }
            state {
                brightness {
                    reported { value sampledAt createdAt }
                    desired { value delta updatedAt }
                }
            }
        }
        ... on ThermostatSettingDeviceTrait {
            properties { availableThermostatModes availableFanModes }
            state {
                mode {
                    reported { value sampledAt createdAt }
                    desired { value delta updatedAt }
                }
                targetTemperature {
                    reported { value sampledAt createdAt }
                    desired { value delta updatedAt }
                }
                ambientTemperature {
                    reported { value sampledAt createdAt }
                    desired { value delta updatedAt }
                }
                setpointHigh {
                    reported { value sampledAt createdAt }
                    desired { value delta updatedAt }
                }
                setpointLow {
                    reported { value sampledAt createdAt }
                    desired { value delta updatedAt }
                }
                ambientHumidity {
                    reported { value sampledAt createdAt }
                    desired { value delta updatedAt }
                }
                targetHumidity {
                    reported { value sampledAt createdAt }
                    desired { value delta updatedAt }
                }
                fanMode {
                    reported { value sampledAt createdAt }
                    desired { value delta updatedAt }
                }
            }
        }
    }
}